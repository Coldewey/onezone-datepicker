!function(e){try{e=angular.module("onezone-datepicker.templates")}catch(t){e=angular.module("onezone-datepicker.templates",[])}e.run(["$templateCache",function(e){e.put("onezone-datepicker.html",'<div class=onezone-content><div class=onezone-transclude><ng-transclude></ng-transclude></div><div class=onezone-datepicker ng-class="{ \'onezone-datepicker-show\' : datepicker.showDatepicker }"><div class=onezone-datepicker-modal ng-if="datepicker.showLoader || datepicker.showMonthModal || datepicker.showYearModal"><div class="onezone-datepicker-close-button icon ion-ios-close-outline" ng-if="datepicker.showMonthModal || datepicker.showYearModal" ng-click=closeModals()></div><ion-spinner icon=spiral class="spinner-dark onezone-datepicker-loader" ng-if=datepicker.showLoader></ion-spinner><div class=onezone-datepicker-modal-content ng-if=datepicker.showMonthModal><div class="onezone-datepicker-button onezone-datepicker-select-year" ng-click=openYearModal()>{{currentMonth.getFullYear()}}</div><div class=onezone-datepicker-modal-item ng-repeat="m in months track by $index" ng-class="{\'onezone-datepicker-modal-item-active\': currentMonth.getMonth() == $index}" ng-click=selectMonth($index)>{{m.substr(0,3)}}</div></div><div class=onezone-datepicker-modal-content ng-if=datepicker.showYearModal><ion-slide-box show-pager=false active-slide=selectedYearSlide><ion-slide ng-repeat="slide in yearSlides"><div class=onezone-datepicker-modal-item ng-repeat="year in slide.years" ng-click=selectYear(year) ng-class="{\'onezone-datepicker-modal-item-active\': currentMonth.getFullYear() == year}">{{year}}</div></ion-slide></ion-slide-box></div></div><div class=row><div class=col-25><span class="onezone-datepicker-navigation-arrow ion-ios-arrow-back" ng-click=previousMonth()></span></div><div class="col text-center"><div class=onezone-datepicker-button ng-click=openMonthModal()>{{months[currentMonth.getMonth()]}} {{currentMonth.getFullYear()}}</div></div><div class="col-25 text-right"><span class="onezone-datepicker-navigation-arrow ion-ios-arrow-forward" ng-click=nextMonth()></span></div></div><div class=row><div class="col onezone-datepicker-week" ng-repeat="dayOfTheWeek in daysOfTheWeek track by $index">{{ dayOfTheWeek }}</div></div><div class=row ng-repeat="week in month" on-swipe-right=swipeRight() on-swipe-left=swipeLeft()><div class=col ng-repeat="day in week.days" ng-click="selectDate(day.fullDate, day.isDisabled)"><div class=onezone-datepicker-day ng-class="{ \'onezone-datepicker-current-day\' : day.isToday, \'onezone-datepicker-different-month\' : !day.isCurrentMonth, \'onezone-datepicker-active-day\' : sameDate(day.fullDate, selectedDate), \'onezone-datepicker-disable-day\' : day.isDisabled }">{{day.date}}</div></div></div><div class=row><div class=col><span class="onezone-datepicker-selection-button ion-ios-datepicker-outline" ng-if=datepicker.showTodayButton ng-click=selectToday()></span></div><div class="col text-right"><span class="onezone-datepicker-selection-button ion-ios-close-outline" ng-click=hideDatepicker()></span> <span class="onezone-datepicker-selection-button ion-ios-checkmark" ng-click=setDate()></span></div></div></div></div>')}])}(),angular.module("onezone-datepicker.service",["ionic"]).factory("onezoneDatepickerService",function(){"use strict";function e(e,t){return angular.isDefined(e)&&angular.isDate(e)&&angular.isDefined(t)&&angular.isDate(t)?e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear():!1}function t(e,t){var a,n=new Date(e.getFullYear(),e.getMonth(),1);return(!t&&(0!==e.getDay()||1!==e.getDate())||t&&(1!==e.getDay()||1!==e.getDate()))&&(a=n.getDay()-t,a=t&&0>a?6:a,n=new Date(e.getFullYear(),e.getMonth(),1-a)),n}function a(t,a,n,r,i,o){var c,d,s,l,u=new Date;if(d=new Date(u.getFullYear(),u.getMonth(),u.getDate()),c=new Date(t.getFullYear(),t.getMonth(),t.getDate()),a&&d>c)return!0;if(n&&(s=c.getDay(),0===s||6===s))return!0;if(angular.isDefined(i)&&i>c)return!0;if(angular.isDefined(o)&&c>o)return!0;if(angular.isDefined(r)&&angular.isArray(r))for(var p=0;p<r.length;p++)if(l=new Date(r[p].getFullYear(),r[p].getMonth(),r[p].getDate()),e(l,c))return!0;return!1}function n(e,t,n,r,i,o,c){var d=[];e=angular.copy(e);for(var s=0;7>s;s++)d.push({fullDate:e,date:e.getDate(),month:e.getMonth(),year:e.getFullYear(),day:e.getDay(),isToday:u(e,new Date),isCurrentMonth:e.getMonth()===t.getMonth(),isDisabled:a(e,n,r,i,o,c)}),e=angular.copy(e),e.setDate(e.getDate()+1);return d}var r={},i=function(e){var t,a,n,r,i=!1,o=!1,c=!1,l=!1,u=!0,p=[],g=!1;return angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.mondayFirst)&&(i=e.datepickerObject.mondayFirst),angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.disablePastDays)&&(c=e.datepickerObject.disablePastDays),angular.isDefined(e.datepickerObject&&angular.isDefined(e.datepickerObject.disableWeekend))&&(l=e.datepickerObject.disableWeekend),angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.disableSwipe)&&(o=e.datepickerObject.disableSwipe),angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.disableDates)&&angular.isArray(p)&&(p=e.datepickerObject.disableDates),angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.months)&&angular.isArray(e.datepickerObject.months)&&12===e.datepickerObject.months.length?e.months=e.datepickerObject.months:e.months=d(),angular.isDefined(e.datepickerObject)?e.daysOfTheWeek=s(i,e.datepickerObject.daysOfTheWeek):e.daysOfTheWeek=s(i,null),angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.startDate)&&angular.isDate(e.datepickerObject.startDate)?(t=e.datepickerObject.startDate.getFullYear(),n=e.datepickerObject.startDate):t=e.currentMonth.getFullYear()-120,angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.endDate)&&angular.isDate(e.datepickerObject.endDate)?(a=e.datepickerObject.endDate.getFullYear(),r=e.datepickerObject.endDate):a=e.currentMonth.getFullYear()+11,angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.showDatepicker)&&(g=e.datepickerObject.showDatepicker),angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.showTodayButton)&&(u=e.datepickerObject.showTodayButton),{mondayFirst:i,startYear:t,endYear:a,displayFrom:n,displayTo:r,disableSwipe:o,disablePastDays:c,disableWeekend:l,disableDates:p,showDatepicker:g}},o=function(e,t){for(var a=0,n=[],r=[],i=e;t>=i;i++)r.push(i),a++,a%12===0&&(n.push({years:r}),r=[]);return r.length>0&&n.push({years:r}),n},c=function(e,t){if(angular.isDefined(e)&&angular.isArray(e))for(var a=0;a<e.length;a++){var n=e[a].years.indexOf(t);if(n>-1)return a}return 0},d=function(){var e=["January","February","March","April","May","June","July","August","September","October","November","December"];return e},s=function(e,t){var a=[];return a=angular.isDefined(t)&&angular.isArray(t)&&7===t.length?angular.copy(t):["Su","Mo","Tu","We","Th","Fr","Sa"],angular.isDefined(e)&&e===!0&&a.push(a.shift()),a},l=function(e){var t=e.getFullYear(),a=e.getMonth()-1;return 0>a&&(t-=1,a=11),new Date(t,a,1)},u=function(t,a){return e(t,a)},p=function(e){for(var a=!1,r=0,i=[],o=t(e.date,e.mondayFirst),c=o.getMonth();!a;)i.push({days:n(o,e.date,e.disablePastDays,e.disableWeekend,e.disableDates,e.displayFrom,e.displayTo)}),o.setDate(o.getDate()+7),a=r++>1&&c!==o.getMonth(),c=o.getMonth();return i},g=function(e){var t=new Date;return e.showTodayButton?!a(t,e.disablePastDays,e.disableWeekend,e.disableDates,e.displayFrom,e.displayTo):!1};return r.getParameters=i,r.getYears=o,r.getActiveYearSlide=c,r.getMonths=d,r.getDaysOfTheWeek=s,r.getPreviousMonth=l,r.sameDate=u,r.createMonth=p,r.showTodayButton=g,r}),angular.module("onezone-datepicker",["ionic","onezone-datepicker.templates","onezone-datepicker.service"]).directive("onezoneDatepicker",["$ionicGesture","onezoneDatepickerService",function(e,t){"use strict";function a(e){var a,n={};return a=angular.isDefined(e.datepickerObject)&&angular.isDefined(e.datepickerObject.date)&&angular.isDate(e.datepickerObject.date)?angular.copy(e.datepickerObject.date):new Date,e.selectedDate=a,e.currentMonth=angular.copy(a),n=t.getParameters(e),e.createDatepicker=function(e){var a={date:e,mondayFirst:n.mondayFirst,disablePastDays:n.disablePastDays,displayFrom:n.displayFrom,displayTo:n.displayTo,disableWeekend:n.disableWeekend,disableDates:n.disableDates};return t.createMonth(a)},e.month=e.createDatepicker(e.selectedDate),e.yearSlides=t.getYears(n.startYear,n.endYear),e.selectedYearSlide=t.getActiveYearSlide(e.yearSlides,e.currentMonth.getFullYear()),n}var n=function(e,n,r){var i={};e.datepicker={showDatepicker:!1,showLoader:!1,showMonthModal:!1,showYearModal:!1,showTodayButton:!0},i=a(e),e.datepicker.showDatepicker=i.showDatepicker,e.datepicker.showTodayButton=t.showTodayButton(i),e.sameDate=function(e,a){return t.sameDate(e,a)},e.selectDate=function(a,n){n||(e.selectedDate=a,e.month=e.createDatepicker(e.selectedDate),e.currentMonth=angular.copy(a),e.selectedYearSlide=t.getActiveYearSlide(e.yearSlides,e.currentMonth.getFullYear()))},e.selectToday=function(){var a=new Date;e.selectedDate=a,e.month=e.createDatepicker(e.selectedDate),e.currentMonth=angular.copy(a),e.selectedYearSlide=t.getActiveYearSlide(e.yearSlides,e.currentMonth.getFullYear())},e.selectMonth=function(t){e.currentMonth=new Date(e.currentMonth.getFullYear(),t,1),e.month=e.createDatepicker(e.currentMonth),e.closeModals()},e.selectYear=function(a){e.currentMonth=new Date(a,e.currentMonth.getMonth(),1),e.selectedYearSlide=t.getActiveYearSlide(e.yearSlides,e.currentMonth.getFullYear()),e.closeYearModal()},e.nextMonth=function(){e.currentMonth=new Date(e.currentMonth.getFullYear(),e.currentMonth.getMonth()+1,1),e.selectedYearSlide=t.getActiveYearSlide(e.yearSlides,e.currentMonth.getFullYear()),e.month=e.createDatepicker(e.currentMonth)},e.previousMonth=function(){e.currentMonth=t.getPreviousMonth(e.currentMonth),e.selectedYearSlide=t.getActiveYearSlide(e.yearSlides,e.currentMonth.getFullYear()),e.month=e.createDatepicker(e.currentMonth)},e.swipeLeft=function(){i.disableSwipe||e.nextMonth()},e.swipeRight=function(){i.disableSwipe||e.previousMonth()},e.closeModals=function(){e.datepicker.showMonthModal=!1,e.datepicker.showYearModal=!1},e.openMonthModal=function(){e.datepicker.showMonthModal=!0},e.openYearModal=function(){e.datepicker.showMonthModal=!1,e.datepicker.showYearModal=!0},e.closeYearModal=function(){e.datepicker.showYearModal=!1,e.datepicker.showMonthModal=!0},e.showDatepicker=function(){e.datepicker.showDatepicker||(e.datepicker.showDatepicker=!0)},e.hideDatepicker=function(){e.datepicker.showDatepicker=!1},e.setDate=function(){e.datepickerObject.date=e.selectedDate,e.datepicker.showDatepicker=!1},n.on("click",function(t){var n=t.target;angular.isDefined(n)&&angular.element(n).hasClass("show-onezone-datepicker")&&e.$apply(function(){a(e),e.showDatepicker()})})};return{restrict:"AE",replace:!0,transclude:!0,link:n,scope:{datepickerObject:"=datepickerObject"},templateUrl:"onezone-datepicker.html"}}]);