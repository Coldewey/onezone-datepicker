<div class="onezone-content">
    <div class="onezone-transclude">
        <ng-transclude></ng-transclude>
    </div>
    <div class="onezone-calendar">
        <div class="onezone-calendar-modal" ng-if="showLoader || showMonthModal || showYearModal">
            <div class="onezone-calendar-close-button icon ion-ios-close-outline" ng-if="showMonthModal || showYearModal" ng-click="closeModals()"></div>
            <ion-spinner icon="spiral" class="spinner-dark onezone-calendar-loader" ng-if="showLoader"></ion-spinner>

            <div class="onezone-calendar-modal-content" ng-if="showMonthModal">
                <div class="onezone-calendar-button onezone-calendar-select-year" ng-click="openYearModal()">
                    {{currentMonth.getFullYear()}}
                </div>
                <div class="onezone-calendar-modal-item" ng-repeat="m in months track by $index" ng-class="{'onezone-calendar-modal-item-active': currentMonth.getMonth() == $index}" ng-click="selectMonth($index)">
                    {{m.substr(0,3)}}
                </div>
            </div>


            <div class="onezone-calendar-modal-content" ng-if="showYearModal">
                <ion-slide-box show-pager="false" active-slide="selectedYearSlide">
                    <ion-slide ng-repeat="slide in yearSlides">
                        <div class="onezone-calendar-modal-item" ng-repeat="year in slide.years" ng-click="selectYear(year)" ng-class="{'onezone-calendar-modal-item-active': currentMonth.getFullYear() == year}">
                            {{year}}
                        </div>
                    </ion-slide>
                </ion-slide-box>
            </div>
        </div>

        <div class="row">
            <div class="col-25">
                <span class="onezone-calendar-navigation-arrow ion-ios-arrow-back" ng-click="previousMonth()"></span>
            </div>
            <div class="col text-center">
                <div class="onezone-calendar-button" ng-click="openMonthModal()">
                    {{months[currentMonth.getMonth()]}} {{currentMonth.getFullYear()}}
                </div>
            </div>
            <div class="col-25 text-right">
                <span class="onezone-calendar-navigation-arrow ion-ios-arrow-forward" ng-click="nextMonth()"></span>
            </div>
        </div>
        <div class="row">
            <div class="col onezone-calendar-week" ng-repeat="dayOfTheWeek in daysOfTheWeek track by $index"> {{ dayOfTheWeek }}</div>
        </div>
        <div class="row" ng-repeat="week in month" on-swipe-right="previousMonth()" on-swipe-left="nextMonth()">
            <div class="col" ng-repeat="day in week.days" ng-click="selectDate(day.fullDate, day.isDisabled)">
                <div class="onezone-calendar-day" ng-class="{ 'onezone-calendar-current-day' : day.isToday, 'onezone-calendar-different-month' : !day.isCurrentMonth || day.isDisabled, 'onezone-calendar-active-day' : sameDate(day.fullDate, selectedDate) }">
                    {{day.date}}
                </div>
            </div>
        </div>
    </div>
</div>